{"componentChunkName":"component---src-templates-post-tsx","path":"/articles/2018/02/09/1546344579701.html","result":{"data":{"asciidoc":{"id":"65fadc2c-b913-5c75-9469-e9d1e82eb147","fields":{"slug":"/articles/2018/02/09/1546344579701.html","birthTime":"2018-02-09T01:57:00.000Z","modifiedTime":"2019-01-01T12:46:18.472Z"},"html":"<div id=\"toc\" class=\"toc\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div id=\"toctitle\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">Table of Contents</div>\n<ul class=\"sectlevel1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_一基本查询\">一、基本查询</a></li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_二条件查询\">二、条件查询</a></li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_三分页查询\">三、分页查询</a></li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_四分页查询之查询总条数\">四、分页查询之查询总条数</a></li>\n</ul>\n</div>\n<div id=\"preamble\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>今天在学习hibernate框架时，使用的5.2.13稳定版本，而在 hibernate 5.2\n版本以后，对于 Criteria 查询重点放在了 JPACriteriaQuery API 上，如图</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.1.png\" alt=\"pic\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>所以造成的结果是</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.2.png\" alt=\"res\">\n</div>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.3.png\" alt=\"pic\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>方法的过时，同时其下对应的criteria查询的许多方法都属于过时的状态。怀着一颗与时俱进的心，我在网上百般寻找答案，但是百度给出的答案寥寥无几，有限的仅有简单的查询，后来去Google搜素，找寻多个网站以及翻官方文档和API，终于集合了解决方案用以应对criteria过时的问题。下面看看官方文档给出的API</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.4.png\" alt=\"pic\">\n</div>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.5.png\" alt=\"pic\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>官方给出的解决方案就是JPA 的\ncriteria，作为一名合格的爱学习的大学生，我当然不会一个一个的翻阅这些英文文档。不过呢，我还是先了解了下criteria查询的好处。</p>\n</div>\n<div class=\"ulist\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<ul data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>hibernate 自创的，无查询语句，面向对象查询。</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>全都通过调用方法查询</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>注意，很多方法在5.2版本的hibernate中已经弃用，官方API如下</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>*HQL相比，完全面向对象，不需要任何SQL基础 *</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>当然，我是比较喜欢这种设置参数就可操作表的查询的，所以对其一些基本的操作在hibernate5.2版本以后进行了学习。由于百度收录的关于hibernate\n5.2更新版本后的\ncriteria查询资料极其稀少，所以我就打算记下来。但是由于博客正在学习与建设中，只有暂时存放于此处以便取用。在这之前，做必要的准备，例如hibernate的基本配置、导包等都不再赘述，给出数据库表结构与数据如下：</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.6.png\" alt=\"pojo\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>pojo类如下</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.7.png\" alt=\"aaaa\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>其中由于hibernate硬性规定使用id，而我的pid使用的是string类型，所以我建立了一个代理id，用来表的业务列中,没有某业务列符合但是却,必须有,并创建一个没有业务意义的列作为主键。</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>然后，建立一个获取session对象的工具类。</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.8.png\" alt=\"last\">\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_一基本查询\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">一、基本查询</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>曾经的方法</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.9.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>但是同样，createCriteria已经属于过时的方法，Hibernate5.2中已不推荐使用Criteria，而是使用基于JPA规范的CriteriaQuery查询。通过百度以及API，采用新的第一种方法如下：</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.10.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"olist arabic\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<ol class=\"arabic\">\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>创建一个CriteriaBuilder<br></p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>获取 CriteriaQuery<br></p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>指定实体 criteria.from(Product.class);<br></p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>执行查询 session.createQuery 获取结果集 .getResultList()</p>\n</li>\n</ol>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>简化后代码如下：</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.11.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>同时，官网给出另外一种方法，<strong>选择根实体，示例如下图</strong></p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.12.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p><strong>根据官网给出的示例，书写代码如下：</strong></p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.13.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>不获取根实体的情况，分析如下： 1. 创建一个CriteriaBuilder<br>\n2. 获取 CriteriaQuery<br>\n3. 选择根实体 Root<br>\n4. 执行查询 session.createQuery<br>\n5. 获取结果集 .getResultList()</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p><strong>查询指定字段，通过CriteriaQuery的select具体设置</strong></p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.14.png\" alt=\"last\">\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_二条件查询\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">二、条件查询</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>对于原方法，条件查询如下：</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.15.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>由于方法的<strong>过时</strong>，采用5.2新定义的方法，此时，必须为其定义根实体</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.16.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>此处需要使用CriteriaQuery的where方法，其中参数为Predicate类型，所以我们用CriteriaBuilder的方法来进行查询，包括equal、gt等，对应如下：</p>\n</div>\n<table class=\"tableblock frame-all grid-all stretch\">\n<colgroup>\n<col style=\"width: 50%;\">\n<col style=\"width: 50%;\">\n</colgroup>\n<thead>\n<tr>\n<th class=\"tableblock halign-left valign-top\">关系</th>\n<th class=\"tableblock halign-left valign-top\">方法</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">大于（&gt;）</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">gt</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">大于等于（&gt;=）</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">ge</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">小于（&lt;）</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">lt</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">小于等于（⇐）</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">le</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">等于（==）</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">eq</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">不等于（！=）</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">ne</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">in</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">in</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">between and</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">between</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">like</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">lisk</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">not null</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">isNotNull</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">is not null</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">isNull</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">or</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">or</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">and</p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">and</p></td>\n</tr>\n</tbody>\n</table>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>不过在处理OR或者AND是，是一层又一层的嵌套。</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.17.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>此时即完成了条件查询</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>根据条件查询指定字段。将以上两种方式结合即可。</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.18.png\" alt=\"last\">\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_三分页查询\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">三、分页查询</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>hibernate 5.2以前</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.19.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>现在5.2修改后，找遍多种途径都没寻求到方法，不得已，我使用了其他的方法，采用\nJPA 标准下的persistence 包下的 TypedQuery 来进行分页。</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.20.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>如此，hibernate 5.2的分页查询就实现了。当然此方法由文档所给出的如下 &gt;\nThis is useful when the aim is to create dynamic, failure-safe queries.\nIn contrast to <code>hard-coded'', </code>string-based'' JQL or HQL queries, JPA\nCriteria reduces run-time failures because the compiler dynamically\nchecks for query errors.</p>\n</div>\n<div class=\"quoteblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<blockquote>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>翻译：当创建动态的、故障安全的查询时，这一点非常有用。相对于``硬编码''、“基于字符串的“JQL\n或HQL查询，JPA标准降低了运行时失败，因为编译器动态检查查询错误。</p>\n</div>\n</blockquote>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_四分页查询之查询总条数\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">四、分页查询之查询总条数</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.21.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>同样，由于使用JPA，我们不得不更换方式。这个时候就需要使用到mysql的聚合函数来处理数据，在百度查询无果后，去查询官方API文档，他给出了聚合函数使用如下：</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.22.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>研究半天终于使用其聚合函数获取到了，后面的聚合函数都可以使用同样的方式</p>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.23.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"imageblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<img src=\"https://resources.echocow.cn/image/blog/ssh/hibernate1.24.png\" alt=\"last\">\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>如此即成功使用其聚合函数获取到了其总条数。</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>致此，简单的查询就这些了。差不多如此，花了不少时间终于全部弄懂了。相比起HQL，在自己研究的下，还是Criteria\n查询较为难，hibernate这个框架感觉相比于mybatis更加上升了一个高度，如果说jdbc底层，连接池上升一层，mybatis再升一层，那么hibernate相比于mybatis应该上升了两层吧。</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>差不多就这些了，晚安各位~月亮</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>再吐槽一遍QQ空间的编辑器=-=要不是因为我博客还没建好，我也不会用这个=-=希望下次不用了。上传图片截屏排版键值要我老命。。。。唯一好点的就是挺喜欢荧光字体。</p>\n</div>\n</div>\n</div>","document":{"title":"[归档] 02-03 hibernate 5.2 以后  criteria 过时 的 替换"},"pageAttributes":{"category":"归档","description":"今天在学习hibernate框架时，使用的5.2.13稳定版本，而在 hibernate 5.2 版本以后，对于 Criteria 查询重点放在了 JPACriteriaQuery API 上。","image":"https://img.hacpai.com/bing/20180307.jpg?imageView2/1/w/1280/h/720/interlace/1/q/100","sort":null}}},"pageContext":{"slug":"/articles/2018/02/09/1546344579701.html","next":{"document":{"title":"[rhce] 1 配置 SeLinux 为 enforcing"},"fields":{"slug":"/articles/2018/02/14/1546344581049.html"}},"previous":{"document":{"title":"[归档] CentOS7 64位下 MySQL5.7 安装与配置（YUM）"},"fields":{"slug":"/articles/2018/02/02/1546344583722.html"}}}},"staticQueryHashes":["3069561552","3673333084"]}