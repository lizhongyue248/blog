{"componentChunkName":"component---src-templates-post-tsx","path":"/articles/2018/03/04/1546344584354.html","result":{"data":{"asciidoc":{"id":"d03482d8-2cf5-57fc-b304-c5a9da73cb5e","fields":{"slug":"/articles/2018/03/04/1546344584354.html","birthTime":"2018-03-03T20:19:00.000Z","modifiedTime":"2019-01-01T12:40:52.987Z"},"html":"<div id=\"toc\" class=\"toc\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div id=\"toctitle\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">Table of Contents</div>\n<ul class=\"sectlevel1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_环境\">环境</a></li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_步骤\">步骤</a></li>\n</ul>\n</div>\n<div id=\"preamble\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"quoteblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<blockquote>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>今天在 Tomcat 上配置二级域名，说实话，Tomcat 的 server.xml\n文件是我最不想碰的，上次真的被他搞出了阴影来。但是后面觉得还是有必要配一下，早晚都要经历的=-=所以还是花时间配置了。</p>\n</div>\n</blockquote>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_环境\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">环境</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>一台已经安装好 Tomcat9 的 centos7 服务器，其使用 IP\n地址必须能够正常访问。已经配置好dns 解析的域名，能够 ping\n得通你所需要配置的二级域名。</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_步骤\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">步骤</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>进入 Tomcat9 目录下的 conf 文件夹，编辑 server.xml 文件。</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>可选 ：寻找到标签 Connector ，将 port 设置为80</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p><span class=\"image\"><img src=\"https://resources.echocow.cn/image/blog/tomcat.2.1.png\" alt=\"image\"></span></p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\">&lt;Connector port=\"80\" protocol=\"HTTP/1.1\" connectionTimeout=\"20000\"\n           redirectPort=\"8443\" URIEncoding=\"UTF-8\" /&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>继续向下，寻找到 name 为 localhost 的 Host\n标签，修改为主域名（如www.echocow.cn），添加 port 等参数</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p><span class=\"image\"><img src=\"https://resources.echocow.cn/image/blog/tomcat.2.2.png\" alt=\"image\"></span></p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>端口号、协议等按需求填写</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\">&lt;Host name=\"www.echocow.cn\"  appBase=\"webapps\"  port=\"80\" protocol=\"HTTP/1.1\"\n    connectionTimeout=\"20000\" redirectPort=\"8443\" unpackWARs=\"true\" autoDeploy=\"true\"&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>第一个二级域名配置完毕，只是主要的二级域名。</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>其他二级域名方法相同，只不过需要多添加一个 Host 标签，下面我添加一个\nyiban.echocow.cn 的二级域名。</p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p><span class=\"image\"><img src=\"https://resources.echocow.cn/image/blog/tomcat.2.3.png\" alt=\"image\"></span></p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>其中 context 对应的其域名下的文件夹以及目录。这样既算是配置完毕</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\">&lt;Host name=\"yiban.echocow.cn\"  appBase=\"webapps\" port=\"80\" protocol=\"HTTP/1.1\"\n    connectionTimeout=\"20000\" redirectPort=\"8443\" unpackWARs=\"true\" autoDeploy=\"true\"&gt;\n    &lt;Context path=\"/YBSeatOrder\" docBase=\"YBSeatOrder\" debug=\"0\" reloadable=\"true\" /&gt;\n    &lt;Context path=\"/YBStore\" docBase=\"YBStore\" debug=\"0\" reloadable=\"true\" /&gt;\n&lt;/Host&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p><span class=\"image\"><img src=\"https://resources.echocow.cn/image/blog/tomcat.2.4.png\" alt=\"image\"></span></p>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>如此，访问 yiban.echocow.cn/YBStore 即是访问 YBStore 这个项目了。</p>\n</div>\n</div>\n</div>","document":{"title":"tomcat 上配置二级域名"},"pageAttributes":{"category":"归档","description":"tomcat 上配置二级域名","image":"https://img.hacpai.com/bing/20180514.jpg?imageView2/1/w/1280/h/720/interlace/1/q/100","sort":null}}},"pageContext":{"slug":"/articles/2018/03/04/1546344584354.html","next":{"document":{"title":"tomcat9 配置问题 403 Access Denied"},"fields":{"slug":"/articles/2018/05/08/1546344578486.html"}},"previous":{"document":{"title":"[RHCE] 考试目录"},"fields":{"slug":"/articles/2018/03/01/1546344573160.html"}}}},"staticQueryHashes":["3069561552","3673333084"]}