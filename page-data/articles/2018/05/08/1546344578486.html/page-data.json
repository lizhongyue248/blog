{"componentChunkName":"component---src-templates-post-tsx","path":"/articles/2018/05/08/1546344578486.html","result":{"data":{"asciidoc":{"id":"126ee9d8-e9f5-5bc0-8212-5c4d3c37898b","fields":{"slug":"/articles/2018/05/08/1546344578486.html","birthTime":"2018-05-08T11:25:00.000Z","modifiedTime":"2019-01-01T12:41:47.343Z"},"html":"<div id=\"toc\" class=\"toc\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div id=\"toctitle\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">Table of Contents</div>\n<ul class=\"sectlevel1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_1_需要配置\">1.需要配置：</a></li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_2_另外需要修改tomcatwebappsmanagermeta_infcontext_xml文件\">2.另外，需要修改Tomcat/webapps/manager/META-INF/context.xml文件：</a></li>\n</ul>\n</div>\n<div id=\"preamble\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"quoteblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<blockquote>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>tomcat9.0 管理页面如：http://10.10.10.10:8080/manager/html出现如下错误：</p>\n</div>\n</blockquote>\n</div>\n<div class=\"quoteblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<blockquote>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p><strong>403 Access Denied</strong></p>\n</div>\n</blockquote>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_1_需要配置\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">1.需要配置：</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>Tomcat/conf/tomcat-users.xml加入：</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\"> &lt;role rolename=\"manager\"/&gt;\n  &lt;role rolename=\"admin\"/&gt;\n  &lt;role rolename=\"admin-gui\"/&gt;\n  &lt;role rolename=\"manager-gui\"/&gt;\n  &lt;user username=\"xxx\" password=\"***\" roles=\"admin-gui,manager-gui\"/&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>以上配置好后本地可以访问，http://127.0.0.1:8080/manager/html</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_2_另外需要修改tomcatwebappsmanagermeta_infcontext_xml文件\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">2.另外，需要修改Tomcat/webapps/manager/META-INF/context.xml文件：</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\">&lt;Context antiResourceLocking=\"false\" privileged=\"true\" &gt;\n  &lt;!--\n    Remove the comment markers from around the Valve below to limit access to\n    the manager application to clients connecting from localhost\n  --&gt;\n\n  &lt;Valve className=\"org.apache.catalina.valves.RemoteAddrValve\"\n\n         allow=\"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1|\\d+\\.\\d+\\.\\d+\\.\\d+\" /&gt;\n  -&lt;/Context&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>或注释Value节点（tomcat9.0以下默认是注释的，所以不需修改）</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\">&lt;!--\n  &lt;Valve className=\"org.apache.catalina.valves.RemoteAddrValve\"\n         allow=\"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1\" /&gt;\n  --&gt;</code></pre>\n</div>\n</div>\n<div class=\"quoteblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<blockquote>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>参考tomcat9.0文档：http://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Remote_Address_Filter</p>\n</div>\n</blockquote>\n</div>\n</div>\n</div>","document":{"title":"tomcat9 配置问题 403 Access Denied"},"pageAttributes":{"category":"归档","description":"tomcat9 配置问题 403 Access Denied","image":"https://img.hacpai.com/bing/20180531.jpg?imageView2/1/w/1280/h/720/interlace/1/q/100","sort":null}}},"pageContext":{"slug":"/articles/2018/05/08/1546344578486.html","next":{"document":{"title":"windows powershell 自定义颜色"},"fields":{"slug":"/articles/2018/05/22/1546344586774.html"}},"previous":{"document":{"title":"tomcat 上配置二级域名"},"fields":{"slug":"/articles/2018/03/04/1546344584354.html"}}}},"staticQueryHashes":["3069561552","3673333084"]}