{"componentChunkName":"component---src-templates-post-tsx","path":"/articles/2019/05/05/1557020097819.html","result":{"data":{"asciidoc":{"id":"c28f8a6d-ee75-5bca-a997-4de579049d87","fields":{"slug":"/articles/2019/05/05/1557020097819.html","birthTime":"2019-05-05T01:34:57.956Z","modifiedTime":"2019-05-13T03:11:33.123Z"},"html":"<div id=\"toc\" class=\"toc\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div id=\"toctitle\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">Table of Contents</div>\n<ul class=\"sectlevel1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_pacman_安装\">pacman 安装</a></li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_docker_安装_推荐\">docker 安装 —— 推荐</a></li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\"><a href=\"#_测试\">测试</a></li>\n</ul>\n</div>\n<div id=\"preamble\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>最近项目中使用了 <a href=\"https://www.rabbitmq.com/\">rabbitmq</a> ，我是 manjaro\n系统，记录一下安装的过程。</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_pacman_安装\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">pacman 安装</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>作为 arch 衍生版，最大的好处就是他庞大的软件仓库了～安装是极其方便的</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 使用 pacman\nsudo pacman -S rabbitmq rabbitmqadmin\n# 使用 yarourt\nyarourt -S rabbitmq rabbitmqadmin\n# 或自己选择相应的版本\nyarourt rabbitmq</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>启动</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 开启管理模块\nsudo rabbitmq-plugins enable rabbitmq_management\n# 启动\nsudo rabbitmq-server</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>启动报错</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-none\" data-lang=\"none\">&nbsp; &nbsp;args: []\n&nbsp;&nbsp;&nbsp;format: \"Error when reading /var/lib/rabbitmq/.erlang.cookie: eacces\"\n&nbsp;&nbsp;&nbsp;label: {error_logger,error_msg}\n   2019-05-05 09:16:40.312473 crash_report &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#{label=&gt;{proc_lib,crash},report=&gt;[[{initial_call,{auth,init,['Argument__1']}},{pid,&lt;0.59.0&gt;},{registered_name,[]},{error_info,{error,\"Error w\nhen reading /var/lib/rabbitmq/.erlang.cookie: eacces\",[{auth,init_cookie,0,[{file,\"auth.erl\"},{line,286}]},{auth,init,1,[{file,\"auth.erl\"},{line,140}]},{gen_server,init_it,2,[{file,\"gen_ser\nver.erl\"},{line,374}]},{gen_server,init_it,6,[{file,\"gen_server.erl\"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,\"proc_lib.erl\"},{line,249}]}]}},{ancestors,[net_sup,kernel_sup,&lt;0.46.0&gt;\n]},{message_queue_len,0},{messages,[]},{links,[&lt;0.57.0&gt;]},{dictionary,[]},{trap_exit,true},{status,running},{heap_size,987},{stack_size,27},{reductions,937}],[]]}\n2019-05-05 09:16:40.312741 supervisor_report &nbsp;&nbsp;#{label=&gt;{supervisor,start_error},report=&gt;[{supervisor,{local,net_sup}},{errorContext,start_error},{reason,{\"Error when reading /var/lib/rabbi\ntmq/.erlang.cookie: eacces\",[{auth,init_cookie,0,[{file,\"auth.erl\"},{line,286}]},{auth,init,1,[{file,\"auth.erl\"},{line,140}]},{gen_server,init_it,2,[{file,\"gen_server.erl\"},{line,374}]},{ge\nn_server,init_it,6,[{file,\"gen_server.erl\"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,\"proc_lib.erl\"},{line,249}]}]}},{offender,[{pid,undefined},{id,auth},{mfargs,{auth,start_link,[]}\n},{restart_type,permanent},{shutdown,2000},{child_type,worker}]}]}\n......</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>解决，问题在于\n<code>Error when reading /var/lib/rabbitmq/.erlang.cookie: eacces</code>，修改权限即可</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo chown rabbitmq:rabbitmq /var/lib/rabbitmq/.erlang.cookie\nsudo chmod 600 /var/lib/rabbitmq/.erlang.cookie</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>启动</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo rabbitmq-server</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_docker_安装_推荐\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">docker 安装 —— 推荐</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>安装</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">docker pull rabbitmq:3.7-management</code></pre>\n</div>\n</div>\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>启动</p>\n</div>\n<div class=\"listingblock\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"content\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">docker run -d --hostname localhost --name myrabbit -p 15672:15672 -p 5672:5672 rabbitmq:3.6.15-management</code></pre>\n</div>\n</div>\n<div class=\"ulist\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<ul data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>-d 后台进程运行</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>hostname RabbitMQ主机名称</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>name 容器名称</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>-p port:port 本地端口:容器端口</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>-p 15672:15672 http访问端口</p>\n</li>\n<li data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>-p 5672:5672 amqp访问端口</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<h2 id=\"_测试\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">测试</h2>\n<div class=\"sectionbody\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<div class=\"paragraph\" data-sal=\"fade\" data-sal-duration=\"500\" data-sal-repeat=\"true\">\n<p>访问 <a href=\"http://127.0.0.1:15672\" class=\"bare\">http://127.0.0.1:15672</a> ，默认账号密码 guest。</p>\n</div>\n</div>\n</div>","document":{"title":"Manjaro 安装 rabbitmq"},"pageAttributes":{"category":"linux","description":"Manjaro 安装 rabbitmq","image":"https://img.hacpai.com/bing/20180516.jpg?imageView2/1/w/960/h/540/interlace/1/q/100","sort":null}}},"pageContext":{"slug":"/articles/2019/05/05/1557020097819.html","next":{"document":{"title":"spring boot freemarker 制作专属代码生成器"},"fields":{"slug":"/articles/2019/05/10/1557456119712.html"}},"previous":{"document":{"title":"spring data rest 缓存/spring boot Jpa 二级缓存 ehcache 与 redis"},"fields":{"slug":"/articles/2019/04/13/1555159292055.html"}}}},"staticQueryHashes":["3069561552","3673333084"]}